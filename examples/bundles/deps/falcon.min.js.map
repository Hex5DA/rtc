{
  "version": 3,
  "sources": ["../node_modules/rtc-falcon/falcon.js"],
  "sourcesContent": ["window.$all = selector => document.querySelectorAll(selector);\nwindow.$ = selector => document.querySelector(selector);\nElement.$all = function(selector) { return this.querySelectorAll(selector); }\nElement.$ = function(selector) { return this.querySelector(selector); }\n\nElement.prototype.$html = function(pos, lit) {\n    this.insertAdjacentHTML(pos, lit);\n}\n\nconst jsNameRgx = /\\[\\s*([a-zA-Z_$]?|[\\w$]*)\\s*\\]/g;\nfunction _template(source, ctx) {\n    return source.replace(jsNameRgx, (_, cap) => {\n        if (!(cap in ctx))\n            throw Error(`template literal ${cap} was not provided in the given context`);\n        return ctx[cap];\n    });\n}\n\nfunction _removeIdentifiable(element) {\n    element.removeAttribute(\"id\");\n}\n\nElement.prototype.$template = function(ctx) {\n    this.outerHTML = _template(this.outerHTML, ctx);\n};\n\nElement.prototype.$retemplate = function(ctx) {\n    if (this.$_templateReal) this.$_templateReal.remove();\n    this.$html(\"afterend\", _template(this.outerHTML, ctx));\n    this.$_templateReal = this.nextElementSibling;\n\n    _removeIdentifiable(this.$_templateReal);\n    this.$_templateReal.style.display = \"revert\";\n    this.style.display = \"none\";\n};\n\nElement.prototype.$templateClone = function(ctx, attrs = {}) {\n    this.$html(\"afterend\", _template(this.outerHTML, ctx));\n    _removeIdentifiable(this.nextElementSibling);\n    this.nextElementSibling.style.display = \"revert\";\n    this.style.display = \"none\";\n\n    for (const [key, value] of Object.entries(attrs)) {\n        this.nextElementSibling.setAttribute(key, value);\n    }\n}\n\n// would this make more sense as $select?\nNodeList.prototype.$cfg = function(option) {\n    this.forEach(node => {\n        if (((node instanceof HTMLOptionElement && node.value) || node.dataset.value) != option)\n            node.remove();\n    });\n};\n\nNodeList.prototype.$recfg = function(option) {\n    this.forEach(node => {\n        node.style.display = (((node instanceof HTMLOptionElement && node.value)\n            || node.dataset.value) != option) ? \"revert\" : \"none\";\n    });\n};\n\nNodeList.prototype.$cfgClone = function(option) {\n    const firstIter = Array.from(this).every(el => !el.hasAttribute(\"data-flntemplate\"));\n    if (firstIter) this.forEach(node => {\n        node.setAttribute(\"data-flntemplate\", \"\");\n        node.style.display = \"none\";\n    });\n\n    this.forEach(node => {\n        if (!node.hasAttribute(\"data-flntemplate\")) return;\n        if (((node instanceof HTMLOptionElement && node.value)\n            || node.dataset.value) == option) {\n\n            node.after(node.cloneNode(true));\n            _removeIdentifiable(node.nextSibling);\n            node.nextSibling.removeAttribute(\"data-flntemplate\");\n            node.nextSibling.style.display = \"revert\";\n\n            if (node.nextSibling.dataset.value) node.nextSibling.removeAttribute(\"data-value\");\n            if (node.nextSibling.value) node.nextSibling.removeAttribute(\"value\");\n        }\n    });\n};\n\n\nfunction $objEvent(target, ...eventNames) {\n    if (!target[\"addEventListener\"]) throw Error(\"event functions should only be called on objects with event support.\");\n    if (!target[\"dispatchEvent\"]) throw Error(\"event functions should only be called on objects with event support.\");\n\n    return {\n        dispatch: function() {\n            const prospects = eventNames.map(eventName => target.dispatchEvent(eventName));\n            return prospects === 1 ? prospects[0] : prospects;\n        },\n        /** @param {function(Event): void} handler */\n        set on(handler) {\n            // if `currentScript` is `undefined`, we are executed from _within_ an event listener.\n            // we will assume this means the listener is valid, and bypass checks.\n            // NOTE: if someone is using `addEventListener`, we're fucked :sweat_smile:\n            const defining = document.currentScript || {};\n            eventNames.forEach(eventName =>\n                target.addEventListener(eventName, ev => (defining.isConnected ?? true) && handler(ev)));\n        }\n    };\n}\n\nEventTarget.prototype.$event = function (...eventNames) {\n    return $objEvent(this, ...eventNames);\n};\n\n"],
  "mappings": "MAAA,OAAO,KAAOA,GAAY,SAAS,iBAAiBA,CAAQ,EAC5D,OAAO,EAAIA,GAAY,SAAS,cAAcA,CAAQ,EACtD,QAAQ,KAAO,SAASA,EAAU,CAAE,OAAO,KAAK,iBAAiBA,CAAQ,CAAG,EAC5E,QAAQ,EAAI,SAASA,EAAU,CAAE,OAAO,KAAK,cAAcA,CAAQ,CAAG,EAEtE,QAAQ,UAAU,MAAQ,SAASC,EAAKC,EAAK,CACzC,KAAK,mBAAmBD,EAAKC,CAAG,CACpC,EAEA,IAAMC,EAAY,kCAClB,SAASC,EAAUC,EAAQC,EAAK,CAC5B,OAAOD,EAAO,QAAQF,EAAW,CAACI,EAAGC,IAAQ,CACzC,GAAI,EAAEA,KAAOF,GACT,MAAM,MAAM,oBAAoBE,CAAG,wCAAwC,EAC/E,OAAOF,EAAIE,CAAG,CAClB,CAAC,CACL,CAEA,SAASC,EAAoBC,EAAS,CAClCA,EAAQ,gBAAgB,IAAI,CAChC,CAEA,QAAQ,UAAU,UAAY,SAASJ,EAAK,CACxC,KAAK,UAAYF,EAAU,KAAK,UAAWE,CAAG,CAClD,EAEA,QAAQ,UAAU,YAAc,SAASA,EAAK,CACtC,KAAK,gBAAgB,KAAK,eAAe,OAAO,EACpD,KAAK,MAAM,WAAYF,EAAU,KAAK,UAAWE,CAAG,CAAC,EACrD,KAAK,eAAiB,KAAK,mBAE3BG,EAAoB,KAAK,cAAc,EACvC,KAAK,eAAe,MAAM,QAAU,SACpC,KAAK,MAAM,QAAU,MACzB,EAEA,QAAQ,UAAU,eAAiB,SAASH,EAAKK,EAAQ,CAAC,EAAG,CACzD,KAAK,MAAM,WAAYP,EAAU,KAAK,UAAWE,CAAG,CAAC,EACrDG,EAAoB,KAAK,kBAAkB,EAC3C,KAAK,mBAAmB,MAAM,QAAU,SACxC,KAAK,MAAM,QAAU,OAErB,OAAW,CAACG,EAAKC,CAAK,IAAK,OAAO,QAAQF,CAAK,EAC3C,KAAK,mBAAmB,aAAaC,EAAKC,CAAK,CAEvD,EAGA,SAAS,UAAU,KAAO,SAASC,EAAQ,CACvC,KAAK,QAAQC,GAAQ,EACXA,aAAgB,mBAAqBA,EAAK,OAAUA,EAAK,QAAQ,QAAUD,GAC7EC,EAAK,OAAO,CACpB,CAAC,CACL,EAEA,SAAS,UAAU,OAAS,SAASD,EAAQ,CACzC,KAAK,QAAQC,GAAQ,CACjBA,EAAK,MAAM,SAAaA,aAAgB,mBAAqBA,EAAK,OAC3DA,EAAK,QAAQ,QAAUD,EAAU,SAAW,MACvD,CAAC,CACL,EAEA,SAAS,UAAU,UAAY,SAASA,EAAQ,CAC1B,MAAM,KAAK,IAAI,EAAE,MAAME,GAAM,CAACA,EAAG,aAAa,kBAAkB,CAAC,GACpE,KAAK,QAAQD,GAAQ,CAChCA,EAAK,aAAa,mBAAoB,EAAE,EACxCA,EAAK,MAAM,QAAU,MACzB,CAAC,EAED,KAAK,QAAQA,GAAQ,CACZA,EAAK,aAAa,kBAAkB,IACnCA,aAAgB,mBAAqBA,EAAK,OACzCA,EAAK,QAAQ,QAAUD,IAE1BC,EAAK,MAAMA,EAAK,UAAU,EAAI,CAAC,EAC/BN,EAAoBM,EAAK,WAAW,EACpCA,EAAK,YAAY,gBAAgB,kBAAkB,EACnDA,EAAK,YAAY,MAAM,QAAU,SAE7BA,EAAK,YAAY,QAAQ,OAAOA,EAAK,YAAY,gBAAgB,YAAY,EAC7EA,EAAK,YAAY,OAAOA,EAAK,YAAY,gBAAgB,OAAO,EAE5E,CAAC,CACL,EAGA,SAASE,EAAUC,KAAWC,EAAY,CAEtC,GADI,CAACD,EAAO,kBACR,CAACA,EAAO,cAAkB,MAAM,MAAM,sEAAsE,EAEhH,MAAO,CACH,SAAU,UAAW,CACjB,IAAME,EAAYD,EAAW,IAAIE,GAAaH,EAAO,cAAcG,CAAS,CAAC,EAC7E,OAAOD,IAAc,EAAIA,EAAU,CAAC,EAAIA,CAC5C,EAEA,IAAI,GAAGE,EAAS,CAIZ,IAAMC,EAAW,SAAS,eAAiB,CAAC,EAC5CJ,EAAW,QAAQE,GACfH,EAAO,iBAAiBG,EAAWG,IAAOD,EAAS,aAAe,KAASD,EAAQE,CAAE,CAAC,CAAC,CAC/F,CACJ,CACJ,CAEA,YAAY,UAAU,OAAS,YAAaL,EAAY,CACpD,OAAOF,EAAU,KAAM,GAAGE,CAAU,CACxC",
  "names": ["selector", "pos", "lit", "jsNameRgx", "_template", "source", "ctx", "_", "cap", "_removeIdentifiable", "element", "attrs", "key", "value", "option", "node", "el", "$objEvent", "target", "eventNames", "prospects", "eventName", "handler", "defining", "ev"]
}
